{% extends 'base.html' %}
{% block content %}

<style>
  /* Light / Dark Gradients (linked to data-bs-theme) */
  html[data-bs-theme="light"] body {
    background: linear-gradient(120deg, #0d6efd, #6610f2, #6f42c1);
    background-size: 400% 400%;
    animation: gradientShift 12s ease infinite;
    color: #212529;
  }

  html[data-bs-theme="dark"] body {
    background: linear-gradient(120deg, #14161a, #1f1f28, #292d36);
    background-size: 400% 400%;
    animation: gradientShift 12s ease infinite;
    color: #f8f9fa;
  }

  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .login-card {
    width: 420px;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.25);
    color: #fff;
    padding: 40px 35px;
    animation: fadeIn 1.3s ease;
  }

  html[data-bs-theme="dark"] body .login-card {
    background: rgba(0,0,0,0.4);
    color: #e9ecef;
    box-shadow: 0 0 25px rgba(255,255,255,0.1);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(25px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .login-card h3 {
    font-weight: 600;
    margin-bottom: 15px;
    letter-spacing: 0.5px;
  }

  .form-control {
    background: rgba(255,255,255,0.15);
    border: none;
    color: #fff;
  }

  html[data-bs-theme="dark"] body .form-control {
    background: rgba(255,255,255,0.08);
    color: #f1f1f1;
  }

  .form-control::placeholder, label {
    color: #ddd !important;
  }

  .form-control:focus {
    background: rgba(255,255,255,0.25);
    box-shadow: 0 0 0 0.25rem rgba(255,255,255,0.3);
  }

  .btn-login {
    background-color: #ffc107;
    border: none;
    color: #212529;
    font-weight: 600;
    border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow: 0 0 15px rgba(255,255,255,0.3);
  }

  .btn-login:hover {
    transform: scale(1.05);
    box-shadow: 0 0 25px rgba(255,255,255,0.6);
  }

  .links a {
    color: #fff;
    opacity: 0.8;
    transition: opacity 0.3s ease;
  }

  .links a:hover {
    opacity: 1;
    text-shadow: 0 0 10px rgba(255,255,255,0.6);
  }

  footer { display: none; } /* hide footer for clean login look */
</style>

<div class="d-flex justify-content-center align-items-center" style="min-height: 90vh;">
  <div class="login-card">
    <div class="text-center mb-4">
      <i class="fa-solid fa-lock fa-3x text-warning mb-3"></i>
      <h3>{{ _('Sign in to Helpdesk Pro') }}</h3>
      <p class="text-white-50 mb-0">{{ _('Your secure access to IT support and ticketing') }}</p>
    </div>

    <form method="post" novalidate>
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="username" name="username" placeholder="" required>
        <label for="username"><i class="fa fa-user me-1"></i>{{ _('Username') }}</label>
      </div>

      <div class="form-floating mb-3">
        <input type="password" class="form-control" id="password" name="password" placeholder="" required>
        <label for="password"><i class="fa fa-key me-1"></i>{{ _('Password') }}</label>
      </div>

      <div class="form-check mb-4">
        <input class="form-check-input" type="checkbox" id="remember" name="remember">
        <label class="form-check-label text-white-50" for="remember">{{ _('Remember me') }}</label>
      </div>

      <button type="submit" class="btn btn-login w-100 py-2 mb-3">
        <i class="fa-solid fa-right-to-bracket me-1"></i>{{ _('Sign in') }}
      </button>
    </form>

    {% if auth_config.allow_password_reset or auth_config.allow_self_registration %}
      <div class="text-center links">
        {% if auth_config.allow_password_reset %}
          <a href="{{ url_for('auth.forgot_password') }}">{{ _('Forgot password?') }}</a>{% if auth_config.allow_self_registration %}<br>{% endif %}
        {% endif %}
        {% if auth_config.allow_self_registration %}
          <a href="{{ url_for('auth.register') }}">{{ _('Create an account') }}</a>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

{% endblock %}
